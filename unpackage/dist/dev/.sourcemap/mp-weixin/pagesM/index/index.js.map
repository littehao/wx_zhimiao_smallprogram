{"version":3,"sources":["webpack:////Users/huhao/Desktop/www/wx_zhimiao/pagesM/index/index.vue?6495","webpack:////Users/huhao/Desktop/www/wx_zhimiao/pagesM/index/index.vue?8ac4","webpack:////Users/huhao/Desktop/www/wx_zhimiao/pagesM/index/index.vue?baa3","webpack:////Users/huhao/Desktop/www/wx_zhimiao/pagesM/index/index.vue?f102","uni-app:///pagesM/index/index.vue","webpack:////Users/huhao/Desktop/www/wx_zhimiao/pagesM/index/index.vue?2d90","webpack:////Users/huhao/Desktop/www/wx_zhimiao/pagesM/index/index.vue?0b49"],"names":["components","comscroll","data","scrollTop","searchValue","currentTab","isFixedSearch","istabSticky","bannerList","tabs","name","curCity","lat","lng","cityName","curtextNear","nearList","type","text","label","isShowNear","demandList","isSuccess","datalen","computed","watch","currentLocation","customAxis","created","uni","_this","methods","getRotationChartListFn","city","loadData","getMyHomeRecommendationListFn","sortOrder","xAxis","yAxis","res","myRelease","recommendation","list","item","console","getNewestListFn","scrollFn","changeNear","url","searchSticky","tabSticky","change","selectCityNavTo","searchTo","bannerTo"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACqC;;;AAGzF;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,8LAEN;AACP,KAAK;AACL;AACA,aAAa,oMAEN;AACP,KAAK;AACL;AACA,aAAa,8OAEN;AACP,KAAK;AACL;AACA,aAAa,wLAEN;AACP,KAAK;AACL;AACA,aAAa,oPAEN;AACP,KAAK;AACL;AACA,aAAa,0MAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClEA;AAAA;AAAA;AAAA;AAAm0B,CAAgB,myBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;AC8Gv1B;AAIA;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAEA;EACAA;IAAAC;EAAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;QACAC;MACA,GACA;QACAA;MACA,EACA;MACAC;QACAC;QACAC;QACAC;MACA;MAAA;MACAC;MACAC;QACAC;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;QACAC;MACA,EACA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;IACA;EACA;EACAC,4BACA,2GACA,kCACA;EACAC;IACAC;MACA;QACA;QACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACA;QACA;UACAf;UACAC;UACAC;QACA;QACA;QACA;MACA;IACA;EACA;EACAc;IACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;QACA;QACAC;UACAlB;UACAC;UACAC;QACA;QACAgB;QACAA;MACA;IACA;EACA;EACAC,yCACA;IACAC;MAAA;MACA;QACA;UAAAC;QAAA;QACA;QACA;UACA;QACA;UACA;QACA;MAEA;QACA;MAAA;IAEA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MAAA;MACA;QACA;UACAC;UACAC;UACAC;QACA;QACA;QACA;QACA;QACA;QACA,gBAGAC;UAFAC;UACAC;QAEA;QACA;QACA;UACAC;UACAA;YACAC;UACA;QACA;UACAD;UACAA;YACAC;UACA;QACA;QACA;QACA;MACA;QACAC;QACA;QACA;MACA;IACA;IACAC;MAAA;MAAA;MACA;QACA;UACAR;UACAC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACAI;UACAC;QACA;QACA;QACA;MAEA;QACA;QACA;MACA;IACA;IACAG;MACA;IACA;IACAC;MACA;QACAlB;UACAmB;QACA;QACA;MACA;MACA;MACA;MACA;IACA;IACAC;MAAA;MACA;IACA;IACAC;MAAA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACAvB;QACAmB;MACA;IACA;IACAK;MACAxB;QACAmB;MACA;IACA;IACAM;MAAA;MACA,kGACA;MACAzB;QACAmB;MACA;IACA;EAAA;AAEA;AAAA,2B;;;;;;;;;;;;;ACzVA;AAAA;AAAA;AAAA;AAAwsC,CAAgB,wnCAAG,EAAC,C;;;;;;;;;;;ACA5tC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pagesM/index/index.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=d1725846&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=d1725846&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d1725846\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesM/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=d1725846&scoped=true&\"","var components\ntry {\n  components = {\n    comscroll: function () {\n      return import(\n        /* webpackChunkName: \"components/comscroll/comscroll\" */ \"@/components/comscroll/comscroll.vue\"\n      )\n    },\n    tuiSticky: function () {\n      return import(\n        /* webpackChunkName: \"components/tui-sticky/tui-sticky\" */ \"@/components/tui-sticky/tui-sticky.vue\"\n      )\n    },\n    tuiIcon: function () {\n      return import(\n        /* webpackChunkName: \"components/tui-icon/tui-icon\" */ \"@/components/tui-icon/tui-icon.vue\"\n      )\n    },\n    tuiTabs: function () {\n      return import(\n        /* webpackChunkName: \"components/tui-tabs/tui-tabs\" */ \"@/components/tui-tabs/tui-tabs.vue\"\n      )\n    },\n    indexCard: function () {\n      return import(\n        /* webpackChunkName: \"components/indexCard/indexCard\" */ \"@/components/indexCard/indexCard.vue\"\n      )\n    },\n    tuiNoData: function () {\n      return import(\n        /* webpackChunkName: \"components/tui-no-data/tui-no-data\" */ \"@/components/tui-no-data/tui-no-data.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.isShowNear = true\n    }\n    _vm.e1 = function ($event) {\n      _vm.isShowNear = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"index-page bgF7F8FA h-100\" id=\"index-page\">\r\n\t\t<comscroll\r\n\t\tref=\"comscroll\"\r\n\t\t@loadData=\"loadData\"\r\n\t\t@scrollFn=\"scrollFn\"\r\n\t\t:isSuccess=\"isSuccess\"\r\n\t\t:datalen=\"datalen\"\r\n\t\t>\r\n\t\t\t<view class=\"bglinear top-radius position-absolute left-0 right-0 top-0\"></view>\r\n\t\t\t<view class=\"position-relative pb-4\" :style=\"{'padding-top':getNavTop+'px'}\">\r\n\t\t\t\t<view class=\"welcome fs-40 px-32 border-box \">职苗 理想生活 自由职在</view>\r\n\t\t\t\t<view v-if=\"isFixedSearch\" class=\"position-fixed top-0 left-0 right-0 bglinear\" style=\"z-index: 1;\"\r\n\t\t\t\t\t:style=\"{height: getNavHeight+'px'}\"></view>\r\n\t\t\t\t<!--搜索-->\r\n\t\t\t\t<tui-sticky :scrollTop=\"scrollTop\" :stickyTop=\"getNavTop\" @sticky=\"searchSticky\">\r\n\t\t\t\t\t<template v-slot:header>\r\n\t\t\t\t\t\t<view class=\"flex px-32 border-box\">\r\n\t\t\t\t\t\t\t<!--#ifdef MP-WEIXIN-->\r\n\t\t\t\t\t\t\t<view class=\"flex align-center\" @click=\"selectCityNavTo\">\r\n\t\t\t\t\t\t\t\t<text class=\"city fs-28 ftffff text-ellipsis\" style=\"max-width: 100rpx;\">{{curCity.cityName}}</text>\r\n\t\t\t\t\t\t\t\t<tui-icon size=\"28\" unit=\"rpx\" color=\"#fff\" name=\"arrowdown\"></tui-icon>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"flex rounded bgffff header-rearch px-2 ml-2\" :class=\"isFixedSearch?'':'flex-1'\"\r\n\t\t\t\t\t\t\t\t:style=\"{width:getMenuButtonObject.left-30-((132/52)*(getNavHeight-getNavTop-5)) +'px'}\"\r\n\t\t\t\t\t\t\t\t@click=\"searchTo\">\r\n\t\t\t\t\t\t\t\t<input class=\"weui-input flex-1\" disabled v-model=\"searchValue\"\r\n\t\t\t\t\t\t\t\t\tplaceholder-class=\"placeholder\" placeholder=\"搜索需求或用户\" />\r\n\t\t\t\t\t\t\t\t<tui-icon size=\"28\" unit=\"rpx\" color=\"#4E5969\" name=\"search\"></tui-icon>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<!--  #endif -->\r\n\t\t\t\t\t\t\t<!--#ifdef H5-->\r\n\t\t\t\t\t\t\t<view class=\"flex align-center mt-2\" @click=\"selectCityNavTo\">\r\n\t\t\t\t\t\t\t\t<text class=\"city fs-28 ftffff text-ellipsis\" style=\"max-width: 100rpx;\">{{curCity.cityName}}</text>\r\n\t\t\t\t\t\t\t\t<tui-icon size=\"28\" unit=\"rpx\" color=\"#fff\" name=\"arrowdown\"></tui-icon>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"flex rounded bgffff header-rearch px-2 ml-2 flex-1 mt-2\" @click=\"searchTo\">\r\n\t\t\t\t\t\t\t\t<input class=\"weui-input flex-1\" disabled v-model=\"searchValue\"\r\n\t\t\t\t\t\t\t\t\tplaceholder-class=\"placeholder\" placeholder=\"搜索需求或用户\" />\r\n\t\t\t\t\t\t\t\t<tui-icon size=\"28\" unit=\"rpx\" color=\"#4E5969\" name=\"search\"></tui-icon>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<!--  #endif -->\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</tui-sticky>\r\n\t\t\t</view>\r\n\t\t\r\n\t\t\t<view class=\"px-2\" style=\"height: 300rpx;\">\r\n\t\t\t\t<!--banner-->\r\n\t\t\t\t<swiper class=\"index-swiper\" indicator-dots=\"true\" indicator-active-color=\"#fff\" autoplay circular>\r\n\t\t\t\t\t<swiper-item class=\"swiper-item rounded bgffff\" v-for=\"item in bannerList\" :key=\"item.id\">\r\n\t\t\t\t\t\t<template v-if=\"item.compressedGraphHttpPath\">\r\n\t\t\t\t\t\t\t<image @click=\"bannerTo(item)\" class=\"rounded\" mode=\"aspectFill\" bindtap=\"tapBanner\"\r\n\t\t\t\t\t\t\t\tstyle=\"width: 100%;height: 100%;\" :data-url=\"item.compressedGraphHttpPath\"\r\n\t\t\t\t\t\t\t\t:src=\"item.compressedGraphHttpPath\" />\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<view v-else class=\"h-100\"  style=\"background-color: rgba(242, 159, 99, 0.9);\"></view>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t</swiper>\r\n\t\t\t</view>\r\n\t\t\t<tui-sticky :scrollTop=\"scrollTop\" :stickyTop=\"getNavHeight\" @sticky=\"tabSticky\">\r\n\t\t\t\t<template v-slot:header>\r\n\t\t\t\t\t<view class=\"flex pr-3 position-relative border-bottom\"\r\n\t\t\t\t\t\t:style=\"{'background-color':istabSticky?'#fff':''}\">\r\n\t\t\t\t\t\t<view class=\"flex-1\">\r\n\t\t\t\t\t\t\t<tui-tabs :zIndex=\"1\" unlined selectedColor=\"#F85241\" :size=\"32\" :height=\"92\"\r\n\t\t\t\t\t\t\t\tsliderBgColor=\"#F85241\" color=\"#4E5969\" backgroundColor=\"transparent\" :width=\"150\"\r\n\t\t\t\t\t\t\t\t:padding=\"0\" :tabs=\"tabs\" :currentTab=\"currentTab\" itemWidth=\"50%\" @change=\"change\">\r\n\t\t\t\t\t\t\t</tui-tabs>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"flex align-center flex-1 justify-end\" style=\"width: 100px;\"\r\n\t\t\t\t\t\t\t@click=\"isShowNear = true\">\r\n\t\t\t\t\t\t\t<text class=\"fs-28 text-ellipsis text-right\" style=\"width: 200rpx;\" v-if=\"customAxis\"\r\n\t\t\t\t\t\t\t\t:class=\"curtextNear == 4?'ft86909C':'ft1D2129'\">{{customAxis.title}}</text>\r\n\t\t\t\t\t\t\t<text class=\"fs-28\" v-else\r\n\t\t\t\t\t\t\t\t:class=\"curtextNear == 4?'ft86909C':'ft1D2129'\">{{nearList[curtextNear]['text']}}</text>\r\n\t\t\t\t\t\t\t<tui-icon size=\"28\" unit=\"rpx\" color=\"#86909C\" name=\"arrowdown\"></tui-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!---附近-->\r\n\t\t\t\t\t\t<view v-if=\"isShowNear\" class=\"position-fixed top-0 right-0 bottom-0 left-0 z-index1030\"\r\n\t\t\t\t\t\t\t@click=\"isShowNear = false\"></view>\r\n\t\t\t\t\t\t<view v-if=\"isShowNear\" class=\"bgffff rounded position-absolute border z-index1030 pt-2\"\r\n\t\t\t\t\t\t\tstyle=\"width: 100px;top:100%;right:10rpx\">\r\n\t\t\t\t\t\t\t<block v-for=\"(item,index) in nearList\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<view class=\"fs-28 ft1D2129 mb-3 px-2\" @click=\"changeNear(index)\">{{item.text}}</view>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\r\n\t\t\t</tui-sticky>\r\n\t\t\t<view class=\"px-32 position-relative pt-3\">\r\n\t\t\t\t<template v-if=\"demandList.length > 0\">\r\n\t\t\t\t\t<block v-for=\"item in demandList\" :key=\"item.id\">\r\n\t\t\t\t\t\t<indexCard :item=\"item\"></indexCard>\r\n\t\t\t\t\t</block>\r\n\t\t\t\t</template>\r\n\t\t\t\t<template v-else>\r\n\t\t\t\t\t<tui-no-data :fixed=\"false\" :imgUrl=\"`https://zm.zgzhm.com/mini/img/img_nodata.png`\" :marginBottom=\"0\" :imgWidth=\"300\"\r\n\t\t\t\t\t\t:imgHeight=\"300\">\r\n\t\t\t\t\t\t<text class=\"fs-28\">暂无数据</text>\r\n\t\t\t\t\t</tui-no-data>\r\n\t\t\t\t</template>\r\n\t\t\t</view>\r\n\t\t\t<view :style=\"{height:getSafeAreaBottom+'px'}\"></view>\r\n\t\t</comscroll>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapGetters,\r\n\t\tmapActions\r\n\t} from 'vuex'\r\n\timport { distance } from '@/utils/common.js'\r\n\timport comscroll from '@/components/comscroll/comscroll.vue'\r\n\texport default {\r\n\t\tcomponents:{comscroll},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tscrollTop: 0,\r\n\t\t\t\tsearchValue: '',\r\n\t\t\t\tcurrentTab: 0,\r\n\t\t\t\tisFixedSearch: false, //判断是否吸顶\r\n\t\t\t\tistabSticky: false, // 判断tab是否吸顶\r\n\t\t\t\tbannerList: [], //轮播图列表\r\n\t\t\t\ttabs: [{\r\n\t\t\t\t\t\tname: '推荐'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '最新发布'\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tcurCity: {\r\n\t\t\t\t\tlat: 0,\r\n\t\t\t\t\tlng: 0,\r\n\t\t\t\t\tcityName:\"\",\r\n\t\t\t\t},//当前选中的城市\r\n\t\t\t\tcurtextNear: 4,\r\n\t\t\t\tnearList: [{\r\n\t\t\t\t\t\ttype: 0,\r\n\t\t\t\t\t\ttext: '1公里',\r\n\t\t\t\t\t\tlabel: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 1,\r\n\t\t\t\t\t\ttext: '3公里',\r\n\t\t\t\t\t\tlabel: 3\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 2,\r\n\t\t\t\t\t\ttext: '5公里',\r\n\t\t\t\t\t\tlabel: 5\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 3,\r\n\t\t\t\t\t\ttext: '10公里',\r\n\t\t\t\t\t\tlabel: 10\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 4,\r\n\t\t\t\t\t\ttext: '附近',\r\n\t\t\t\t\t\tlabel: '附近'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 5,\r\n\t\t\t\t\t\ttext: '自定义位置',\r\n\t\t\t\t\t\tlabel: '自定义位置'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tisShowNear: false, //附近\r\n\t\t\t\tdemandList: [], //推荐列表\r\n\t\t\t\tisSuccess:false,\r\n\t\t\t\tdatalen:0,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapGetters(['getNavHeight', 'getNavTop', 'getMenuButtonObject', 'getAxis', 'getSafeAreaBottom',\r\n\t\t\t\t'customAxis','currentLocation'])\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\tcurrentLocation(val){\r\n\t\t\t\tif(val){\r\n\t\t\t\t\tthis.curCity = val\r\n\t\t\t\t\tthis.getRotationChartListFn()\r\n\t\t\t\t\tthis.getMyHomeRecommendationListFn()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcustomAxis(val){// 自定义位置\r\n\t\t\t\tif(val){\r\n\t\t\t\t\tthis.isShowNear = false\r\n\t\t\t\t\tthis.curCity = {\r\n\t\t\t\t\t\tlat: val.location.lat,\r\n\t\t\t\t\t\tlng: val.location.lng,\r\n\t\t\t\t\t\tcityName: val.city,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.getRotationChartListFn()\r\n\t\t\t\t\tthis.getMyHomeRecommendationListFn()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t\tif(this.currentLocation){\r\n\t\t\t\t\tthis.curCity = this.currentLocation\r\n\t\t\t\t\tthis.getRotationChartListFn()\r\n\t\t\t\t\tthis.getMyHomeRecommendationListFn()\r\n\t\t\t\t}\r\n\t\t\t\tconst _this = this\r\n\t\t\t\tuni.$on('updateData', function(data) {\r\n\t\t\t\t\tif(data.type == 'home'){\r\n\t\t\t\t\t\tthis.$store.commit('setcustomAxis',null)\r\n\t\t\t\t\t\t_this.curCity = {\r\n\t\t\t\t\t\t\tlat: data.item.location.lat,\r\n\t\t\t\t\t\t\tlng: data.item.location.lng,\r\n\t\t\t\t\t\t\tcityName:data.item.name,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t_this.getRotationChartListFn()\r\n\t\t\t\t\t\t_this.getMyHomeRecommendationListFn()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapActions(['getRotationChartList', 'getMyHomeRecommendationList', 'getNewestList', ]),    \r\n\t\t\tasync getRotationChartListFn() { //获取轮播图\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet res = await this.getRotationChartList({city:this.curCity.cityName})\r\n\t\t\t\t\tlet list = res.data\r\n\t\t\t\t\tif(list.length > 0){\r\n\t\t\t\t\t\tthis.bannerList = list\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.bannerList = [1,2]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t//TODO handle the exception\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tloadData(){\r\n\t\t\t\tif (this.currentTab == 1) {\r\n\t\t\t\t\tthis.getNewestListFn()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.getMyHomeRecommendationListFn()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync getMyHomeRecommendationListFn() { // 推荐列表 \r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\tsortOrder: 1,\r\n\t\t\t\t\t\txAxis:this.curCity.lat,\r\n\t\t\t\t\t\tyAxis:this.curCity.lng,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.curtextNear < 4) data.distance = this.nearList[this.curtextNear]['label']\r\n\t\t\t\t\tthis.isSuccess = false\r\n\t\t\t\t\tlet res = await this.getMyHomeRecommendationList(data)\r\n\t\t\t\t\tthis.isSuccess = true\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\tmyRelease,\r\n\t\t\t\t\t\trecommendation\r\n\t\t\t\t\t} = res.data\r\n\t\t\t\t\tthis.demandList = []\r\n\t\t\t\t\tlet list = []\r\n\t\t\t\t\tif (myRelease) {\r\n\t\t\t\t\t\t list = myRelease.concat(recommendation)\r\n\t\t\t\t\t\t list.forEach(item => {\r\n\t\t\t\t\t\t\t item.distance = distance(item.xaxis,item.yaxis,this.curCity)\r\n\t\t\t\t\t\t })\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlist = recommendation\r\n\t\t\t\t\t\tlist.forEach(item => {\r\n\t\t\t\t\t\t\titem.distance = distance(item.xaxis,item.yaxis,this.curCity)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.datalen = list.length\r\n\t\t\t\t\tthis.demandList = list\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\tthis.isSuccess = true\r\n\t\t\t\t\t//TODO handle the exception\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync getNewestListFn() { // 最新列表\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\txAxis:this.curCity.lat,\r\n\t\t\t\t\t\tyAxis:this.curCity.lng,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.curtextNear < 4) data.distance = this.nearList[this.curtextNear]['label']\r\n\t\t\t\t\tthis.isSuccess = false\r\n\t\t\t\t\tlet res = await this.getNewestList(data)\r\n\t\t\t\t\tthis.isSuccess = true\r\n\t\t\t\t\tthis.demandList = []\r\n\t\t\t\t\tlet list = res.data\r\n\t\t\t\t\tlist.forEach(item => {\r\n\t\t\t\t\t\t\titem.distance = distance(item.xaxis,item.yaxis,this.curCity)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.demandList = list\r\n\t\t\t\t\tthis.datalen = list.length\r\n\t\t\t\t\t\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tthis.isSuccess = true\r\n\t\t\t\t\t//TODO handle the exception\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tscrollFn(mescroll) {\r\n\t\t\t\tthis.scrollTop = mescroll.scrollTop\r\n\t\t\t},\r\n\t\t\tchangeNear(index) {\r\n\t\t\t\tif (index == 5) {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pagesA/location/location?from=home'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.isShowNear = false\r\n\t\t\t\tthis.curtextNear = index\r\n\t\t\t\tthis.$refs.comscroll.downCallback()\r\n\t\t\t},\r\n\t\t\tsearchSticky(e) { // 搜索判断是否吸顶\r\n\t\t\t\tthis.isFixedSearch = e.isFixed\r\n\t\t\t},\r\n\t\t\ttabSticky(e) { // 判断tab是否吸顶\r\n\t\t\t\tthis.istabSticky = e.isFixed\r\n\t\t\t},\r\n\t\t\tchange(e) {\r\n\t\t\t\tthis.currentTab = e.index\r\n\t\t\t\tthis.$refs.comscroll.downCallback()\r\n\t\t\t},\r\n\t\t\tselectCityNavTo() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pagesA/select-city/select-city'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsearchTo() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pagesA/search/search'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tbannerTo(item) { //banner点击跳转地址\r\n\t\t\t\tif (!item.additionalAttributes.url.includes('http://') && !item.additionalAttributes.url.includes(\r\n\t\t\t\t\t\t'https://')) return\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pagesA/web-view/web-view?url=' + item.additionalAttributes.url\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.top-radius {\r\n\t\theight: 199px;\r\n\t\tborder-radius: 0px 0px 55px 55px;\r\n\t}\r\n\r\n\t.welcome {\r\n\t\tfont-family: PingFang SC-Semibold, PingFang SC;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: #FFFFFF;\r\n\t\theight: 40px;\r\n\t\tline-height: 30px;\r\n\t}\r\n\r\n\t.header-rearch {\r\n\t\theight: 32px;\r\n\t\tline-height: 32px;\r\n\t}\r\n\r\n\t.header-rearch .weui-input {\r\n\t\theight: 32px;\r\n\t\tline-height: 32px;\r\n\t}\r\n\r\n\t.index-swiper {\r\n\t\theight: 300rpx;\r\n\t}\r\n\r\n\t.van-tabs__scroll {\r\n\t\tbackground-color: transparent !important;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=d1725846&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=d1725846&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1670916272024\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}